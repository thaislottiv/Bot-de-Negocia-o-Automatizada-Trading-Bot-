import time
from binance.client import Client

# Configuração da API Binance (use suas próprias chaves)
api_key = 'sua_api_key'
api_secret = 'seu_api_secret'

client = Client(api_key, api_secret)

def get_price(symbol):
    ticker = client.get_symbol_ticker(symbol=symbol)
    return float(ticker['price'])

def simple_moving_average(prices, period):
    return sum(prices[-period:]) / period

def trading_bot(symbol, quantity, short_period=5, long_period=15):
    prices = []
    while True:
        price = get_price(symbol)
        prices.append(price)
        
        if len(prices) > long_period:
            short_sma = simple_moving_average(prices, short_period)
            long_sma = simple_moving_average(prices, long_period)

            if short_sma > long_sma:
                print(f"Compra! Preço atual: {price}")
                # Código para comprar
                # client.order_market_buy(symbol=symbol, quantity=quantity)
            else:
                print(f"Venda! Preço atual: {price}")
                # Código para vender
                # client.order_market_sell(symbol=symbol, quantity=quantity)
        
        time.sleep(60)  # Intervalo de 1 minuto entre as verificações

# Exemplo de uso
if __name__ == "__main__":
    trading_bot('BTCUSDT', 0.001)
